$result = array(
  'include_path' => array(),
  'ini'          => array(),
  'const'        => array(),
  'var'          => array(),
  'env'          => array(),
  'post'         => array(),
  'get'          => array(),
  'cookie'       => array(),
  'server'       => array(),
  'files'        => array(),
  'request'      => array()
);

foreach ($this->xpath->query('php/includePath') as $includePath) {
    $path = (string) $includePath->nodeValue;
    if ($path) {
	$result['include_path'][] = $this->toAbsolutePath($path);
    }
}

foreach ($this->xpath->query('php/ini') as $ini) {
    $name  = (string) $ini->getAttribute('name');
    $value = (string) $ini->getAttribute('value');

    $result['ini'][$name] = $value;
}

foreach ($this->xpath->query('php/const') as $const) {
    $name  = (string) $const->getAttribute('name');
    $value = (string) $const->getAttribute('value');

    $result['const'][$name] = $this->getBoolean($value, $value);
}

$injections = Logics\Tests\ConfigurationMedium::getInjections();
foreach (array('var', 'env', 'post', 'get', 'cookie', 'server', 'files', 'request') as $array) {
    foreach ($this->xpath->query('php/' . $array) as $var) {
	$name = (string) $var->getAttribute('name');
	if (isset($injections[$name]) === true)
	    {
		$value = $injections[$name];
	    }
	else
	    {
		$value = (string) $var->getAttribute('value');
	    }

	$result[$array][$name] = $this->getBoolean($value, $value);
    }
}

return $result;
